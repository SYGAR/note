### 什么是模块化？
模块化是指解决一个复杂问题时，自顶向下逐层把系统划分成若干模块的过程。对整个系统来说，模块是可组合、分解和更换的单元。
1.提高了代码的复用性
2.提高了代码的可维护性
3.可以实现按需加载

### 模块化规范

### Node.js中模块的分类
1.内置模块（内置模块是由Node.js官方提供的，例如fs、path、http等）
2.自定义模块（用户创建的每个.js文件，都是自定义模块）
3.第三方模块（由第三方开发出来的模块，并非官方提供的内置模块，也不是用户创建的自定义模块，使用前需要先下载）

### 加载模块
require()
使用require()方法加载其他模块时，会执行被加载模块中的代码。
注意：在使用 require 加载用户自定义模块期间，可以省略 .js 的后缀名

### 模块作用域
1.防止了全局变量污染的问题

### 向外共享模块作用域中的成员
1.module对象
在每个.js自定义模块中都有一个module对象，它里面存储了和当前模块有关的信息

2.module.exports对象
在自定义模块中，可以使用module.exports对象，将模块内的成员共享出去，供外界使用
外界用require()方法导入自定义模块时，得到的就是module.exports所指向的对象
在一个自定义模块中，默认情况下，module.exports={}
使用require()方法导入模块时，导入的结果，永远以module.exports指向的对象为准
默认情况下，exports和module.exports是指向同一个对象。最终共享的结果，还是以module.exports指向的对象为准
<mark>时刻谨记，require()模块时，得到的永远是module.exports指向的对象。为了防止混乱，建议不要在同一个模块中同时使用exports和module.exports</mark>

### Node.js中的模块化规范
Node.js遵循了CommonJS模块化规范，CommonJS规定了模块的特性和各模块之间如何相互依赖。
CommonJS规定：
1.每个模块内部，module变量代表当前模块
2.module变量是一个对象，它的exports属性（即module.exportss)是对外的接口。
3.加载某个模块，其实是加载该模块的module.exports属性。require()方法用于加载模块。

### npm与包
#### 什么是包？
Node.js中第三方模块又叫做包。
https://www.npmjs.com/搜索包
https://registry.npmjs.org/下载包

#### 格式化时间的高级做法
1.使用npm包管理工具，在项目中安装格式化时间的包moment
2.使用require()导入格式化时间的包
3.参考moment的官方API文档对时间进行格式化

#### 在项目中安装包的命令
npm install 包名
npm i 包名(简写)
初次装包完成后，在项目文件夹下多一个叫做node_modules的文件夹和package.json的配置文件
其中，node_modules文件夹用来存放所有已安装到项目中的包。require()导入第三方包时，就是从这个目录中查找并加载包
package-lock.json文件，用来记录node_modules目录下的每一个包的下载信息，例如包的名字、版本号、下载地址等。

#### 安装指定版本的包
npm install 包名@版本号
例如：npm i moment@2.22.2

### 包的语义化版本规范
包的版本号是以“点分十进制”形式进行定义的，总共有三位数字，例如2.24.0，其中每一位数字所代表的含义如下：
第1位数字：大版本
第2位数字：功能版本
第3位数字：Bug修复版本
版本号提升的规则：只要前面的版本号增长了，则后面的版本号归零。

### 包管理配置文件
npm规定，在项目根目录中，必须提供一个叫做package.json的包管理配置文件。用来记录与项目有关的一些配置信息。例如：
1.项目的名称、版本号、描述等
2.项目中都用到了哪些包
3.哪些包只在开发期间会用到
4.哪些包在开发和部署时都需要用到
注意：今后在项目开发中，一定要把node_modules文件夹，添加到.gitigonre忽略文件中。
快速新建package.json文件(npm init -y)
①上述命令只能在英文的目录下成功运行。所以，项目文件夹的名臣一定要使用英文命名，不要使用中文，不能出现空格。
②运行npm install 命令安装包的时候，npm包管理工具会自动把包的名称和版本号，记录到package.json中。
package.json文件中，有一个dependencies节点，专门用来记录您使用npm install命令安装了哪些包。

### 一次性安装所有的包
可以运行npm install命令(或 npm i)一次性安装所有的依赖包；
执行npm install命令时，npm包管理工具会先读取package.json中的dependencies节点，读取到记录的所有依赖包名称和版本号之后，npm包管理工具会把这些包一次性下载到项目中。
npm install

### 卸载包
可以运行npm uninstall命令卸载指定的包；
注意：npm uninstall命令执行成功后，会把卸载的包，自动从package.json的dependencies中移除掉。

### devDependencies节点
如果某些包只在项目开发阶段会用到，在项目上线之后不会用到，则建议把这些包记录到devDependencies节点中。
将包记录到devDependencies节点中(npm i 包名 -D)(npm install 包名 --save-dev)

### 淘宝NPM镜像服务器
镜像(Mirroring)是一种文件存储形式，一个磁盘上的数据在另一个磁盘上存在另一个完全相同的副本即为镜像。

### 切换npm的下包镜像源
npm config get registry
### 将下包的镜像源切换为淘宝镜像源
npm config set registry=https://registry.npm.taobao.org
### 检查镜像源是否下载成功
npm config get registry

### nrm
为了更方便的切换下包的镜像源，我们可以按照nrm这个小工具，利用nrm提供的终端命令，可以快速查看和切换下包的镜像源。
#### 通过npm包管理器，将nrm安装为全局可用的工具
npm i nrm -g
#### 查看所有可用的镜像源
nrm ls
#### 将下包的镜像源切换为taobao镜像
nrm use taobao
